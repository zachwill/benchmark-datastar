<!doctype html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script type="module">
    import { benchmark } from "./common.js";

    let currentStartTime = null;

    // Handle button clicks and capture start timestamp
    $(document).on('click', '#small, #big', function (event) {
      currentStartTime = event.timeStamp;
      const size = this.id;

      $.get(`/snippet/${size}?bust=` + Math.random(), function (html) {
        $("#target").html(html);
        // Capture end timestamp and benchmark
        const endTime = performance.now();
        benchmark("jquery", currentStartTime, endTime);
        currentStartTime = null;
      });
    });
  </script>
</head>

<body>
  <button id="small">Run small</button>
  <button id="big">Run big</button>
  <div id="target"></div>
</body>

</html>